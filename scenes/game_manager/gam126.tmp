[gd_scene load_steps=25 format=3 uid="uid://2fenrba40ao2"]

[ext_resource type="Script" path="res://globals/pausing_parent.gd" id="1_q5gyf"]
[ext_resource type="Script" path="res://scenes/game_manager/game_manager.gd" id="1_v5cb4"]
[ext_resource type="PackedScene" uid="uid://b5qjgpcdrcq8" path="res://scenes/the_room/the_room.tscn" id="2_1oe0i"]
[ext_resource type="AudioStream" uid="uid://bd1voj4cv8kq0" path="res://assets/sfx/screams/Low Pain 1.mp3" id="2_vktfy"]
[ext_resource type="AudioStream" uid="uid://del8iq2txqatn" path="res://assets/sfx/screams/Low Pain 2.mp3" id="3_c3uut"]
[ext_resource type="PackedScene" uid="uid://wgnj4rupwwno" path="res://ui/main_menu/main_menu.tscn" id="3_ndug5"]
[ext_resource type="Script" path="res://ui/ui.gd" id="3_t6cev"]
[ext_resource type="AudioStream" uid="uid://w6e87nd52j32" path="res://assets/sfx/screams/Low Pain 3.mp3" id="4_3px1i"]
[ext_resource type="PackedScene" uid="uid://mwriol6rdmeq" path="res://ui/credits_page/credits_page.tscn" id="5_5m0y2"]
[ext_resource type="AudioStream" uid="uid://0ow3yb4op0ry" path="res://assets/sfx/screams/Low Pain 4.mp3" id="5_nvx7w"]
[ext_resource type="AudioStream" uid="uid://bab50k4a08cj3" path="res://assets/sfx/screams/Medium Pain 1.mp3" id="6_825tr"]
[ext_resource type="PackedScene" uid="uid://c7oicnc7370fn" path="res://ui/lose_screen/lose_screen.tscn" id="6_f66pt"]
[ext_resource type="PackedScene" uid="uid://ed8suuq6xcqr" path="res://scenes/transition_screen/transition_screen.tscn" id="6_nt10t"]
[ext_resource type="PackedScene" uid="uid://bkyifb2d8spg2" path="res://ui/win_screen/win_screen.tscn" id="7_dbsxc"]
[ext_resource type="AudioStream" uid="uid://deyrsd4t3wrew" path="res://assets/sfx/screams/Medium Pain 2.mp3" id="7_w0yn4"]
[ext_resource type="AudioStream" uid="uid://bwlvi8h2jk4j4" path="res://assets/sfx/screams/Medium Pain 3.mp3" id="8_gv8tl"]
[ext_resource type="AudioStream" uid="uid://dwcg1lhogqrg5" path="res://assets/sfx/screams/Medium Pain 4.mp3" id="9_4jlgh"]
[ext_resource type="AudioStream" uid="uid://b31lughm75wje" path="res://assets/sfx/shocks/Electricity Sound Effect.wav" id="10_nnm8a"]
[ext_resource type="AudioStream" uid="uid://bxq1alu3nvaj4" path="res://assets/sfx/screams/High Pain 1.mp3" id="10_q4fcd"]
[ext_resource type="AudioStream" uid="uid://b7rfbtg2u0k08" path="res://assets/sfx/screams/High Pain 2.mp3" id="11_4oxw7"]
[ext_resource type="AudioStream" uid="uid://tgl3a8fbg750" path="res://assets/sfx/screams/High Pain 4.mp3" id="11_wupf8"]
[ext_resource type="AudioStream" uid="uid://ct0yd5gu6tfs6" path="res://assets/sfx/screams/High Pain 3.mp3" id="12_cgqru"]
[ext_resource type="PackedScene" uid="uid://vun7fnjgj12k" path="res://ui/pause_screen/pause_screen.tscn" id="20_njnpj"]

[sub_resource type="Environment" id="Environment_vhmtg"]
background_mode = 1
ambient_light_color = Color(0.333333, 0.333333, 0.333333, 1)
ambient_light_energy = 0.01

[node name="PausingParent" type="Node"]
script = ExtResource("1_q5gyf")

[node name="GameManager" type="Node3D" parent="." node_paths=PackedStringArray("room", "camera", "seated_camera_marker", "hover_camera_marker", "question_timer", "player_shock_audio_player", "subject_shock_audio_player", "subject_scream_audio_player", "ui", "transition_screen")]
process_mode = 1
script = ExtResource("1_v5cb4")
room = NodePath("TheRoom")
camera = NodePath("Camera3D")
seated_camera_marker = NodePath("SeatedMarker")
hover_camera_marker = NodePath("HoverMarker")
question_timer = NodePath("QuestionTimer")
player_shock_audio_player = NodePath("PlayerShockAudioStreamPlayer")
subject_shock_audio_player = NodePath("SubjectShockAudioStreamPlayer")
subject_scream_audio_player = NodePath("SubjectScreamAudioStreamPlayer")
low_screams = Array[AudioStream]([ExtResource("2_vktfy"), ExtResource("3_c3uut"), ExtResource("4_3px1i"), ExtResource("5_nvx7w")])
med_screams = Array[AudioStream]([ExtResource("6_825tr"), ExtResource("7_w0yn4"), ExtResource("8_gv8tl"), ExtResource("9_4jlgh")])
high_screams = Array[AudioStream]([ExtResource("10_q4fcd"), ExtResource("11_4oxw7"), ExtResource("12_cgqru"), ExtResource("11_wupf8")])
ui = NodePath("UI")
transition_screen = NodePath("TransitionScreen")

[node name="WorldEnvironment" type="WorldEnvironment" parent="GameManager"]
environment = SubResource("Environment_vhmtg")

[node name="Camera3D" type="Camera3D" parent="GameManager"]
transform = Transform3D(1, 0, 0, 0, 0.887011, 0.461749, 0, -0.461749, 0.887011, 0, 24.7029, 25.4498)

[node name="TheRoom" parent="GameManager" instance=ExtResource("2_1oe0i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -8)

[node name="SeatedMarker" type="Marker3D" parent="GameManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.260681, 13.5659, -2.73128)

[node name="HoverMarker" type="Marker3D" parent="GameManager"]
transform = Transform3D(1, 0, 0, 0, 0.887011, 0.461749, 0, -0.461749, 0.887011, 0, 24.7029, 25.4498)

[node name="QuestionTimer" type="Timer" parent="GameManager"]
wait_time = 10.0

[node name="UI" type="CanvasLayer" parent="GameManager"]
script = ExtResource("3_t6cev")

[node name="MainMenu" parent="GameManager/UI" instance=ExtResource("3_ndug5")]

[node name="OptionMenu" parent="GameManager/UI" instance=ExtResource("5_5m0y2")]
visible = false

[node name="LoseScreen" parent="GameManager/UI" instance=ExtResource("6_f66pt")]
visible = false

[node name="WinScreen" parent="GameManager/UI" instance=ExtResource("7_dbsxc")]
visible = false

[node name="PauseScreen" parent="GameManager/UI" instance=ExtResource("20_njnpj")]
visible = false

[node name="TransitionScreen" parent="GameManager" instance=ExtResource("6_nt10t")]

[node name="PlayerShockAudioStreamPlayer" type="AudioStreamPlayer" parent="GameManager"]
stream = ExtResource("10_nnm8a")
volume_db = -20.0

[node name="SubjectScreamAudioStreamPlayer" type="AudioStreamPlayer3D" parent="GameManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -102.031, 13.9996, 0)
volume_db = -10.0
autoplay = true
bus = &"Shocks/Screams"

[node name="SubjectShockAudioStreamPlayer" type="AudioStreamPlayer3D" parent="GameManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -102.031, 13.9996, 0)
stream = ExtResource("10_nnm8a")
bus = &"Shocks/Screams"

[connection signal="timeout" from="GameManager/QuestionTimer" to="GameManager" method="_on_question_timer_timeout"]
[connection signal="restart" from="GameManager/UI" to="GameManager" method="_on_ui_restart"]
[connection signal="open_options" from="GameManager/UI/MainMenu" to="GameManager/UI" method="_on_main_menu_open_options"]
[connection signal="start_game" from="GameManager/UI/MainMenu" to="GameManager" method="_on_main_menu_start_game"]
[connection signal="start_game" from="GameManager/UI/MainMenu" to="GameManager/UI" method="_on_main_menu_start_game"]
[connection signal="back" from="GameManager/UI/OptionMenu" to="GameManager/UI" method="_on_option_menu_back"]
[connection signal="retry" from="GameManager/UI/LoseScreen" to="GameManager/UI" method="_on_lose_screen_retry"]
[connection signal="play_again" from="GameManager/UI/WinScreen" to="GameManager/UI" method="_on_win_screen_play_again"]
